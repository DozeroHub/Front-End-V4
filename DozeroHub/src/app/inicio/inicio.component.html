<!-- Estilização do menu no componente Menu -->
<div class="container-fluid">
  <div class="row">
    <div class="col-md-1 m-0">
      <app-menu></app-menu>
    </div>

    <!--Pagina do feed-->
    <div class="col-md-8">
      <div class="container-fluid">

        <!--Jumbotron-->

        <div class="jumbotron">
          <h1 class="display-4">Sejam Bem-vindes!</h1>
          <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to
            featured content or information.</p>
          <hr class="my-4">
          <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>

        </div>
        <!--/Jumbotron-->

      </div>

      <!--Postagens-->

      <div class="container-fluid mb-5 mt-5" id="postagens">

        <nav>
          <div class="nav nav-tabs d-flex justify-content-center" id="nav-tab" role="tablist">

            <a class="nav-link active text-secondary font-weight-bold" id="nav-todasPostagens-tab" data-toggle="tab"
              href="#todasPostagens" role="tab" aria-controls="nav-todasPostagens" aria-selected="true">Todas as
              Postagens</a>

            <a (click)="findByIdUsuario()" class="nav-link text-secondary font-weight-bold" id="nav-minhasPostagens-tab"
              data-toggle="tab" href="#minhasPostagens" role="tab" aria-controls="nav-minhasPostagens"
              aria-selected="false">Minhas
              Postagens</a>

            <a class="nav-link text-secondary font-weight-bold" id="nav-postagensTema-tab" data-toggle="tab"
              href="#postagensTema" role="tab" aria-controls="nav-postagensTema" aria-selected="false">Postagens por
              Tema</a>

          </div>
        </nav>

        <div class="tab-content mt-5" id="nav-tabContent">
          <div class="tab-pane fade show active" id="todasPostagens" role="tabpanel"
            aria-labelledby="nav-todasPostagens-tab">

            <div class="card-columns">
              <div class="card text-center" *ngFor="let item of listaPostagens">
                <div class="card-body">
                  <h5 class="card-title m-0">{{item.titulo}}</h5>
                  <small class="text-muted">Tema: {{item.tema.descricao}}</small>
                  <p class="card-text mt-3">{{item.texto}}</p>
                  <p class="card-text"><small class="text-muted">{{item.data | date: 'dd/MM/yyyy'}} às
                      {{item.data | date: 'HH:mm'}}</small></p>
                  <p class="card-text"><small class="text-muted">Por: {{item.usuario.nome}}</small></p>
                </div>
              </div>
            </div>

          </div>

          <div class="tab-pane fade" id="minhasPostagens" role="tabpanel" aria-labelledby="nav-minhasPostagens-tab">
            <div class="card-columns">
              <div class="card text-center" *ngFor="let user of user.postagem">
                <div class="card-body">
                  <h5 class="card-title m-0">{{user.titulo}}</h5>
                  <small class="text-muted">Tema: {{user.tema.descricao}}</small>
                  <p class="card-text mt-3">{{user.texto}}</p>
                  <p class="card-text"><small class="text-muted">{{user.data | date: 'dd/MM/yyyy'}} às
                      {{user.data | date: 'HH:mm'}}</small></p>
                  <a [routerLink]="['/postagem-edit', user.id]" class="text-info mr-3">Editar</a>
                  <a [routerLink]="['/postagem-delete', user.id]" class="text-danger">Apagar</a>
                </div>
              </div>
            </div>
          </div>

          <div class="tab-pane fade" id="postagensTema" role="tabpanel" aria-labelledby="nav-postagensTema-tab">
            <div class="card-columns" *ngFor="let tema of listaTemas">
              <div class="card text-center" *ngFor="let item of tema.postagem">
                <div class="card-body">
                  <h5 class="card-title m-0">{{item.titulo}}</h5>
                  <p class="card-text mt-3">{{item.texto}}</p>
                  <p class="card-text"><small class="text-muted">{{item.data | date: 'dd/MM/yyyy'}} às
                      {{item.data | date: 'HH:mm'}}</small></p>
                  <p class="card-text"><small class="text-muted">Por: {{item.usuario.nome}}</small></p>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="novaPostagem" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
          aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">Nova Postagem</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group">
                  <label for="titulo">Titulo</label>
                  <input [(ngModel)]="postagem.titulo" type="text" class="form-control" id="titulo"
                    placeholder="Digite o título">
                </div>
                <div class="form-group">
                  <label for="Texto">Texto</label>
                  <textarea [(ngModel)]="postagem.texto" class="form-control" name="texto" id="texto"
                    rows="3"></textarea>
                </div>
                <div class="form-group">
                  <label for="Texto">Escolha um Tema <a data-dismiss="modal" routerLink="/tema">Cadastre um
                      novo</a>:</label>
                  <select name="tema" id="tema" class="form-control" [(ngModel)]="idTema" (change)="findByIdTema()">
                    <option *ngFor="let item of listaTemas" value="{{item.id}}">{{item.descricao}}</option>
                  </select>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                <button type="button" class="btn btn-primary" (click)="publicar()"
                  data-dismiss="modal">Publicar</button>
              </div>
            </div>
          </div>
        </div>
      </div>     
    </div>
    <div class="col-md-3">
      
      <!-- Lista de temas cadastrados -->
      <div class="container">

        <div class="row mt-5">
          <div class="col-md-12">
            <h2 class="text-center">Todos os Temas</h2>
          </div>
        </div>
      
        <div class="row mt-3 mb-5 d-flex justify-content-center">
          <div class="col-md-6">
      
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Descrição</th>
                  <th scope="col" class="text-right">Modificações</th>
      
                </tr>
              </thead>
              <tbody>
                <tr *ngFor='let tema of listaTemas'>
                  <th>{{tema.id}}</th>
                  <td>{{tema.descricao}}</td>
                  <td class="d-flex justify-content-end">
                    <button class="btn btn-info mr-3" ><a href="#postagensTema">Ver Tema</a></button>
                   
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Card de informações -->    
          <div class= "container md-2 d-flex justify-content-center">

            <div class="card text-center" s tyle="width: 18rem;">
              <div class="card-body">
               <h5 class="card-title">Portal do EMPREENDEDOR</h5>
                <h6 class="card-subtitle mb-2 text-muted">Como se regularizar<s></s></h6>
                <p class="card-text">O site do Portal do empreendedor oferece diversos recursos para você se form.</p>
                <a href="#" class="card-link">Saiba Mais</a>                
              </div>
            </div>

          </div>
    
          <!-- /Card de informações -->  

      </div>
    </div>
  </div>
</div>
